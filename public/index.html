<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    
    <div id="map"></div>
    <!-- <iframe
    width="600"
    height="450"
    frameborder="0" style="border:0"
    src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCYL09kqaJG8N_-m-QYzaPdBlA1rG0IHMg
      &q=Space+Needle,Seattle+WA" allowfullscreen>
      
  </iframe> -->
    <!-- <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
      }
    </script> -->

<script>

    var map, infoWindow;
    function initMap() {
      var pos;

      infoWindow = new google.maps.InfoWindow;

      // Try HTML5 geolocation.
      if (navigator.geolocation) {
        
        navigator.geolocation.getCurrentPosition(function(position) {
          pos = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          
          // var bounds = {
          //   north: -25.363882,
          //   south: -31.203405,
          //   east: 131.044922,
          //   west: 125.244141
          // };
          // couldve used fitbounds() to Display the area between the location southWest and northEast.


          var markers = [{lat: 37.725575,lng: -122.479647}, {lat: 37.723117,lng: -122.475770}]
          var shape = {
            coords: [1, 1, 1, 20, 18, 20, 18, 1],
            type: 'poly'
          };

          var marker = new google.maps.Marker({
            // animation: google.maps.Animation.DROP,
            position: pos,
            shape: shape,
            map: map,
            title: 'Hi Julio',
            icons: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
          });
          attachSecretMessage(marker, "You are Here! :]");        
          marker.setMap(map);

          for(var i = 0; i < markers.length; i++) {
            var marker = new google.maps.Marker({
              animation: google.maps.Animation.DROP,
              position: markers[i],
              map: map,
              title: 'Hi Julio',
              icon: "https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"  
            });
            marker.setMap(map);
          }

          var cityCircle = new google.maps.Circle({
            strokeColor: '#FF0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.35,
            map: map,
            center: pos,
            radius: 1000
          });
          
          // infoWindow.setPosition(pos);
          // infoWindow.setContent("Fuckin\' Julio");
          infoWindow.open(map);
          map.setCenter(pos);
        }, function() {
          handleLocationError(true, infoWindow, map.getCenter());
        });
      } else {
        // Browser doesn't support Geolocation
        handleLocationError(false, infoWindow, map.getCenter());
      }

      map = new google.maps.Map(document.getElementById('map'), {
        center: pos,
        zoom: 15
      });
    }

    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
      infoWindow.setPosition(pos);
      infoWindow.setContent(browserHasGeolocation ?
                            'Error: The Geolocation service failed.' :
                            'Error: Your browser doesn\'t support geolocation.');
      infoWindow.open(map);
    }

    // function initMap() {
    //   var map = new google.maps.Map(document.getElementById('map'), {
    //     zoom: 4,
    //     center: {lat: -33, lng: 151}
    //   });

    //   var image = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png';
    //   var beachMarker = new google.maps.Marker({
    //     position: {lat: -33.890, lng: 151.274},
    //     map: map,
    //     icon: image
    //   });
    // }


      
</script>
        
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCYL09kqaJG8N_-m-QYzaPdBlA1rG0IHMg&libraries=geometry&callback=initMap" async defer
>
</script>
  <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCYL09kqaJG8N_-m-QYzaPdBlA1rG0IHMg">
  </script> -->

  </body>
</html>

<!-- map = new google.maps.Map(document.getElementById("map"), {...}); -->


<!-- AIzaSyB_PWADRyD7thZCHdXxOS19Z_P9Uh-HvS8 -->